

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Welcome to SBMLDiagrams’s documentation! &mdash; SBMLDiagrams 0.0.1 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="api" href="api.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="#" class="icon icon-home" alt="Documentation Home"> SBMLDiagrams
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="api.html">api</a></li>
<li class="toctree-l1"><a class="reference internal" href="functions.html">functions</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">SBMLDiagrams</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="#" class="icon icon-home"></a> &raquo;</li>
        
      <li>Welcome to SBMLDiagrams’s documentation!</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="welcome-to-sbmldiagrams-s-documentation">
<h1>Welcome to SBMLDiagrams’s documentation!<a class="headerlink" href="#welcome-to-sbmldiagrams-s-documentation" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="api.html">api</a></li>
<li class="toctree-l1"><a class="reference internal" href="functions.html">functions</a></li>
</ul>
</div>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>SBMLDiagrams can visualize SBML to PNG/JPG/PDF files by visualizeSBML. On one hand,
users can get all the information about Compartment, Node and Reaction from an
SBML file to DataFrame by importSBML. On the other hand, it supports users to
generate SBML files based on the information of DataFrame. Users can edit the
DataFrame and update the information so that can generate a new SBML file via exportSBML.</p>
</div>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>To install SBMLDiagrams use</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">SBMLDiagrams</span>
</pre></div>
</div>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li><p>Visualize an SBML file to a PNG.</p></li>
</ol>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">SBMLDiagrams</span> <span class="kn">import</span> <span class="n">visualizeSBML</span>
<span class="kn">import</span> <span class="nn">os</span>

<span class="n">dirname</span> <span class="o">=</span> <span class="s2">&quot;path//to&quot;</span>
<span class="n">filename</span> <span class="o">=</span> <span class="s2">&quot;test.xml&quot;</span>

<span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">dirname</span><span class="p">,</span> <span class="n">filename</span><span class="p">),</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="n">sbmlStr</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">sbmlStr</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
   <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Empty SBML!&quot;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
   <span class="n">visualizeSBML</span><span class="o">.</span><span class="n">display</span><span class="p">(</span><span class="n">sbmlStr</span><span class="p">,</span> <span class="n">reactionLineType</span> <span class="o">=</span> <span class="s1">&#39;bezier&#39;</span><span class="p">,</span> <span class="n">showBezierHandles</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> \
   <span class="n">fileFormat</span> <span class="o">=</span> <span class="s1">&#39;PNG&#39;</span><span class="p">,</span> <span class="n">output_fileName</span> <span class="o">=</span> <span class="s1">&#39;output&#39;</span><span class="p">,</span> <span class="n">complexShape</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Edit and write to an SBML file.</p></li>
</ol>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">SBMLDiagrams</span> <span class="kn">import</span> <span class="n">importSBML</span>
<span class="kn">from</span> <span class="nn">SBMLDiagrams</span> <span class="kn">import</span> <span class="n">exportSBML</span>
<span class="kn">from</span> <span class="nn">SBMLDiagrams</span> <span class="kn">import</span> <span class="n">editSBML</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">os</span>

<span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">TEST_FOLDER</span><span class="p">,</span> <span class="n">filename</span><span class="p">),</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="n">sbmlStr</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="p">(</span><span class="n">df_CompartmentData</span><span class="p">,</span> <span class="n">df_NodeData</span><span class="p">,</span> <span class="n">df_ReactionData</span><span class="p">)</span> <span class="o">=</span> <span class="n">importSBML</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">sbmlStr</span><span class="p">)</span>
<span class="n">df_CompartmentData_update</span> <span class="o">=</span>  <span class="n">editSBML</span><span class="o">.</span><span class="n">setCompartment</span><span class="p">(</span><span class="n">df_CompartmentData</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> \
     <span class="n">position</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">],</span> <span class="n">size</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1000.</span><span class="p">,</span> <span class="mf">1000.</span><span class="p">],</span> <span class="n">fill_color</span> <span class="o">=</span> <span class="p">[</span><span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">],</span> \
     <span class="n">border_color</span> <span class="o">=</span> <span class="p">[</span><span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">],</span> <span class="n">border_width</span> <span class="o">=</span> <span class="mf">2.</span><span class="p">)</span>
<span class="n">df_NodeData_update</span> <span class="o">=</span> <span class="n">editSBML</span><span class="o">.</span><span class="n">setNode</span><span class="p">(</span><span class="n">df_NodeData</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">floating_node</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> \
     <span class="n">position</span> <span class="o">=</span> <span class="p">[</span><span class="mf">413.</span><span class="p">,</span> <span class="mf">216.</span><span class="p">],</span> <span class="n">size</span> <span class="o">=</span> <span class="p">[</span><span class="mi">50</span><span class="p">,</span> <span class="mi">30</span><span class="p">],</span> <span class="n">shape_idx</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>\
     <span class="n">txt_position</span> <span class="o">=</span> <span class="p">[</span><span class="mf">413.</span><span class="p">,</span> <span class="mf">216.</span><span class="p">],</span> <span class="n">txt_size</span> <span class="o">=</span> <span class="p">[</span><span class="mf">50.</span><span class="p">,</span> <span class="mf">30.</span><span class="p">],</span> \
     <span class="n">fill_color</span> <span class="o">=</span> <span class="p">[</span><span class="mi">255</span><span class="p">,</span> <span class="mi">204</span><span class="p">,</span> <span class="mi">153</span><span class="p">],</span> <span class="n">border_color</span> <span class="o">=</span> <span class="p">[</span><span class="mi">255</span><span class="p">,</span> <span class="mi">108</span><span class="p">,</span> <span class="mi">9</span><span class="p">],</span> <span class="n">border_width</span> <span class="o">=</span> <span class="mf">2.</span><span class="p">,</span> \
     <span class="n">txt_font_color</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">txt_line_width</span> <span class="o">=</span> <span class="mf">1.</span><span class="p">)</span>
<span class="n">df_ReactionData_update</span> <span class="o">=</span> <span class="n">editSBML</span><span class="o">.</span><span class="n">setReaction</span><span class="p">(</span><span class="n">df_ReactionData</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> \
        <span class="n">fill_color</span> <span class="o">=</span> <span class="p">[</span><span class="mi">91</span><span class="p">,</span> <span class="mi">176</span><span class="p">,</span> <span class="mi">253</span><span class="p">],</span> <span class="n">line_thickness</span> <span class="o">=</span> <span class="mf">3.</span><span class="p">,</span> \
     <span class="n">bezier</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
<span class="n">sbmlStr_layout_render</span> <span class="o">=</span> <span class="n">exportSBML</span><span class="o">.</span><span class="n">export</span><span class="p">(</span><span class="n">df_CompartmentData_update</span><span class="p">,</span> <span class="n">df_NodeData_update</span><span class="p">,</span> <span class="n">df_ReactionData_update</span><span class="p">)</span>

<span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;output.xml&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">sbmlStr_layout_render</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p>Import an SBML file to an excel file to edit.</p></li>
</ol>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">SBMLDiagrams</span> <span class="kn">import</span> <span class="n">importSBML</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="n">dirname</span> <span class="o">=</span> <span class="s2">&quot;path//to&quot;</span>
<span class="n">filename</span> <span class="o">=</span> <span class="s2">&quot;test.xml&quot;</span>
<span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">dirname</span><span class="p">,</span> <span class="n">filename</span><span class="p">),</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="n">sbmlStr</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">sbmlStr</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
   <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Empty SBML!&quot;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
   <span class="k">try</span><span class="p">:</span>
      <span class="n">df_CompartmentData</span><span class="p">,</span> <span class="n">df_NodeData</span><span class="p">,</span> <span class="n">df_ReactionData</span> <span class="o">=</span> <span class="n">importSBML</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">sbmlStr</span><span class="p">,</span> <span class="n">reactionLineType</span><span class="p">)</span>

      <span class="n">writer</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">ExcelWriter</span><span class="p">(</span><span class="s1">&#39;test.xlsx&#39;</span><span class="p">)</span>
      <span class="n">df_CompartmentData</span><span class="o">.</span><span class="n">to_excel</span><span class="p">(</span><span class="n">writer</span><span class="p">,</span> <span class="n">sheet_name</span><span class="o">=</span><span class="s1">&#39;CompartmentData&#39;</span><span class="p">)</span>
      <span class="n">df_NodeData</span><span class="o">.</span><span class="n">to_excel</span><span class="p">(</span><span class="n">writer</span><span class="p">,</span> <span class="n">sheet_name</span><span class="o">=</span><span class="s1">&#39;NodeData&#39;</span><span class="p">)</span>
      <span class="n">df_ReactionData</span><span class="o">.</span><span class="n">to_excel</span><span class="p">(</span><span class="n">writer</span><span class="p">,</span> <span class="n">sheet_name</span><span class="o">=</span><span class="s1">&#39;ReactionData&#39;</span><span class="p">)</span>
      <span class="n">writer</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
   <span class="k">except</span><span class="p">:</span>
      <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Invalid SBML!&quot;</span><span class="p">)</span>
</pre></div>
</div>
<ol class="arabic simple" start="4">
<li><p>Export an SBML file based on the information from an excel file.</p></li>
</ol>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">SBMLDiagrams</span> <span class="kn">import</span> <span class="n">exportSBML</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="n">xls</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">ExcelFile</span><span class="p">(</span><span class="s1">&#39;path//to//test.xlsx&#39;</span><span class="p">)</span>
<span class="n">df_CompartmentData</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="n">xls</span><span class="p">,</span> <span class="s1">&#39;CompartmentData&#39;</span><span class="p">)</span>
<span class="n">df_NodeData</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="n">xls</span><span class="p">,</span> <span class="s1">&#39;NodeData&#39;</span><span class="p">)</span>
<span class="n">df_ReactionData</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="n">xls</span><span class="p">,</span> <span class="s1">&#39;ReactionData&#39;</span><span class="p">)</span>

<span class="n">sbmlStr_layout_render</span> <span class="o">=</span> <span class="n">exportSBML</span><span class="o">.</span><span class="n">export</span><span class="p">(</span><span class="n">df_CompartmentData</span><span class="p">,</span> <span class="n">df_NodeData</span><span class="p">,</span> <span class="n">df_ReactionData</span><span class="p">)</span>
<span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;output.xml&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">sbmlStr_layout_render</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="api.html" class="btn btn-neutral float-right" title="api" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2021, Jin Xu

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>